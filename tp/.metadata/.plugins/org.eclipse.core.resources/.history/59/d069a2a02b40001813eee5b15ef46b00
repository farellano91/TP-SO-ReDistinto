/*
 ============================================================================
 Name        : c.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include "archivo.h"

void exit_gracefully(int return_nr) {
  exit(return_nr);
}

int main(int argc, char** argv) {
	//1.- conecta como cliente al planificador y al servidor
	//1.1 intercambian mensajes de conexion

	//2.- lee el archivo linea por linea
	FILE* file = txt_open_file(argv[0],"r");
	if (!file){
		txt_close_file(file);
		puts("Error al abrir el archivo ");
		exit_gracefully(-1);
	}
	char* line = malloc(sizeof(char)*256);
	while (fgets(line, 256, file)) {
		//3.- se queda esperando permiso para envia la linea "parseada" al coordinador

	}
	free(line);
	txt_close_file(file);
	return EXIT_SUCCESS;
}
